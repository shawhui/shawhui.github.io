# 传输层优化指南

对于传输层的优化策略，主要是以调整TCP协议保守参数、修改更合适的传输控制算法为主。

TCP是一个可靠的传输的协议，这也意味着TCP相关的参数会较为保守。而在内网集群、高BDP用户网络，环境很大的不同，比如内网极少出现TCP重传，而外网网络链路一直在发展升级，对不同场景进行调整，将更有利于服务质量。

本文也将从TCP连接、数据传输、实验性扩展三个方向讲解TCP优化思路以及相关的参数调整。


对于TCP 有非常多的控制参数，您可以使用 sysctl 命名，查看相关的配置文件以了解配置详情：

查看TCP内核参数
```
sysctl -a|grep net.ipv4.tcp
```
查看TCP内核与网络层的交互参数
```
sysctl -a|grep net.core
```
在了解以上参数配置之后，我们就可以对内核参数就行修改，修改的方式有以下几种：

- 使用 echo value 方式直接追加到文件中。 如 echo "1" > /proc/sys/net/ipv4/tcp_syn_retries ，但是这种方式设备重启后，会恢复成默认值。
- 把参数添加到 /etc/sysctl.conf 中，然后执行 sysctl -p 使参数生效。这种方式是永久有效的。
- 使用systcl命令进行修改，例如修改SYN重传次数sysctl net.ipv4.tcp_syn_retries=n
