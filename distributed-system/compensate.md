# 补偿机制

在 TCC、Saga 等分布式模型中，我们多次提到补偿机制，补偿机制是实现分布式事务的重要手段之一。

在分布式系统中，由于各个节点的执行可能存在时延、失败等情况，会导致分布式事务中参与者节点状态不一致，从而使得分布式事务无法完成。为了解决这个问题，我们需要引入一种机制来进行补偿。

补偿机制指的是：在分布式事务出现异常时，通过一系列的操作，尽可能使得分布式事务状态回滚到之前的状态，从而避免分布式事务产生不一致的情况。

具体来说，补偿机制通常包括两个方面的内容：

- 补偿操作：在发现分布式事务出现异常时，执行一系列的操作，使得分布式事务状态回滚到之前的状态，这个过程就称为补偿操作。补偿操作通常包括撤销之前的一些操作，例如将之前已经提交的事务进行回滚。
- 补偿流程：对于分布式事务中的每一个参与者节点，需要设计一个相应的补偿流程，用来保证在出现异常时，能够及时执行补偿操作。补偿流程通常包括检测异常情况、触发补偿操作等步骤。

